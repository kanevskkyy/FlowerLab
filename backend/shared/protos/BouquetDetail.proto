syntax = "proto3";

message GetBouquetRequest {
    string id = 1; 
}

message SizeModel {
    string id = 1;
    string name = 2;
}

message FlowerInBouquetModel {
    string id = 1;
    string name = 2;
    string color = 3;
    int32 quantity = 4;
}

message BouquetSizeModel {
    string sizeId = 1;
    string sizeName = 2;
    double price = 3; // ⬅️ ДОДАЛИ ЦІНУ ТУТ!
    repeated FlowerInBouquetModel flowers = 4; // ⬅️ Змінили номер
    int32 maxAssemblableCount = 5; // ⬅️ Змінили номер
    bool isAvailable = 6; // ⬅️ Змінили номер
}

message EventModel {
    string id = 1;
    string name = 2;
}

message RecipientModel {
    string id = 1;
    string name = 2;
}

message BouquetImageModel {
    string id = 1;
    string imageUrl = 2;
    int32 position = 3;
}

message BouquetResponse {
    string id = 1;
    string name = 2;
    string description = 3;
    string mainPhotoUrl = 4; 
    repeated BouquetSizeModel sizes = 5; 
    repeated EventModel events = 6; 
    repeated RecipientModel recipients = 7; 
    repeated BouquetImageModel images = 8; 
    string createdAt = 9; 
}

service BouquetGrpcService {
    rpc GetBouquetById (GetBouquetRequest) returns (BouquetResponse);
}